/* Limpieza y reestructuración del header */
.site-header { display:flex; align-items:center; justify-content:space-between; padding:.75rem 1rem; position:sticky; top:0; background:var(--bg); backdrop-filter:blur(8px); border-bottom:1px solid rgba(0,0,0,.05); z-index:100; transition:transform .45s ease, background .3s ease; }
.logo img { height:48px; width:auto; display:block; }
.header-actions { display:flex; gap:.5rem; align-items:center; }

/* Botones (mismo tamaño) */
.site-nav-toggle, .header-theme-btn { width:44px; height:44px; border:1px solid var(--accent); background:none; border-radius:8px; cursor:pointer; display:flex; align-items:center; justify-content:center; padding:0; }
.header-theme-btn { font-size:1.25rem; line-height:1; }
.site-nav-toggle:hover, .header-theme-btn:hover { background:var(--accent); color:var(--bg); }

/* Hamburguesa */
.hamburger, .hamburger:before, .hamburger:after { content:""; display:block; width:20px; height:2px; background:var(--accent); position:relative; transition:all .35s ease; border-radius:2px; }
.hamburger:before { position:absolute; top:-6px; }
.hamburger:after { position:absolute; top:6px; }
.site-nav-toggle.is-open .hamburger { background:transparent; }
.site-nav-toggle.is-open .hamburger:before { top:0; transform:rotate(45deg); }
.site-nav-toggle.is-open .hamburger:after { top:0; transform:rotate(-45deg); }

/* Navegación móvil */
.site-nav { position:fixed; top:0; right:0; bottom:0; width:230px; background:var(--bg); box-shadow:-2px 0 8px rgba(0,0,0,.12); padding:4.5rem 1rem 2rem; transform:translateX(100%); transition:transform .4s cubic-bezier(.4,0,.2,1), opacity .25s; opacity:0; visibility:hidden; pointer-events:none; display:flex; }
.site-nav.open { transform:translateX(0); opacity:1; visibility:visible; pointer-events:auto; }
.site-nav__list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:1rem; width:100%; }
.site-nav__link { text-decoration:none; color:var(--fg); font-weight:600; letter-spacing:.5px; }
.site-nav__link:hover, .site-nav__link:focus { color:var(--accent); }

/* Botón tema dentro del menú */
.site-nav__theme-btn { width:100%; background:var(--accent); color:var(--bg); border:1px solid var(--accent); padding:.75rem .9rem; border-radius:6px; font-weight:600; cursor:pointer; display:flex; align-items:center; gap:.5rem; justify-content:center; }
.site-nav__theme-btn:hover { background:transparent; color:var(--accent); }
.theme-item { margin-top:1rem; }

/* Desktop */
@media(min-width:820px){
  .site-nav { position:static; transform:none; opacity:1; visibility:visible; pointer-events:auto; box-shadow:none; padding:0; width:auto; background:transparent; }
  .site-nav__list { flex-direction:row; gap:2rem; }
  .site-nav-toggle { display:none; }
  .theme-item { margin-top:0; }
  .site-nav__theme-btn { width:auto; padding:.5rem .85rem; }
}

/* Estado body bloqueado */
.no-scroll { overflow:hidden; }

/* Accesibilidad Focus */
.site-nav-toggle:focus-visible, .header-theme-btn:focus-visible, .site-nav__link:focus-visible { outline:2px solid var(--accent); outline-offset:3px; }

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .site-nav, .site-nav-toggle .hamburger, .site-nav-toggle .hamburger:before, .site-nav-toggle .hamburger:after { transition:none; }
}

/* Ocultar header al hacer scroll */
.site-header.is-hidden { transform:translateY(-110%); }
